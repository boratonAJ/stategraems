(function(c,a){function b(f,g){var e=g("<div></div>");var h=250;function d(l,k){var m=l.scratch().qtip;var j=g.extend({},k);if(!j.id){j.id="cy-qtip-target-"+(Date.now()+Math.round(Math.random()*10000))}if(!m.$domEle){m.$domEle=e}j.position=j.position||{};j.position.container=j.position.container||g(document.body);j.position.viewport=j.position.viewport||g(document.body);j.position.target=[0,0];j.position.adjust=j.position.adjust||{};j.position.adjust.method=j.position.adjust.method||"flip";j.position.adjust.mouse=false;j.show=j.show||{};if(!j.show.event){j.show.event="mouseover"}j.hide=j.hide||{};j.hide.cyViewport=j.hide.cyViewport===undefined?true:j.hide.cyViewport;if(!j.hide.event){j.hide.event="mouseout"}j.overwrite=false;var i;if(j.content){if(f.is.fn(j.content)){i=j.content}else{if(j.content.text&&f.is.fn(j.content.text)){i=j.content.text}}if(i){j.content=function(o,n){return i.apply(l,[o,n])}}}return j}f("collection","qtip",function(k){var i=this;var l=this.cy();var j=l.container();if(k==="api"){return this.scratch().qtip.api}i.each(function(m,r){var q=r.scratch();var s=q.qtip=q.qtip||{};var o=d(r,k);s.$domEle.qtip(o);var n=s.api=s.$domEle.qtip("api");s.$domEle.removeData("qtip");var p=function(u){var t=j.getBoundingClientRect();var v=r.renderedPosition()||(u?u.cyRenderedPosition:undefined);if(!v||v.x==null||isNaN(v.x)){return}n.set("position.adjust.x",t.left+v.x+window.pageXOffset);n.set("position.adjust.y",t.top+v.y+window.pageYOffset)};p();r.on(o.show.event,function(t){p(t);n.show()});r.on(o.hide.event,function(t){n.hide()});if(o.hide.cyViewport){l.on("viewport",f.util.debounce(function(){n.hide()},h,{leading:true}))}if(o.position.adjust.cyViewport){l.on("pan zoom",f.util.debounce(function(t){p(t);n.reposition()},h,{trailing:true}))}});return this});f("core","qtip",function(n){var p=this;var i=p.container();if(n==="api"){return this.scratch().qtip.api}var m=p.scratch();var o=m.qtip=m.qtip||{};var k=d(p,n);o.$domEle.qtip(k);var j=o.api=o.$domEle.qtip("api");o.$domEle.removeData("qtip");var l=function(r){var q=i.getBoundingClientRect();var s=r.cyRenderedPosition;if(!s||s.x==null||isNaN(s.x)){return}j.set("position.adjust.x",q.left+s.x+window.pageXOffset);j.set("position.adjust.y",q.top+s.y+window.pageYOffset)};p.on(k.show.event,function(q){if(!k.show.cyBgOnly||(k.show.cyBgOnly&&q.cyTarget===p)){l(q);j.show()}});p.on(k.hide.event,function(q){if(!k.hide.cyBgOnly||(k.hide.cyBgOnly&&q.cyTarget===p)){j.hide()}});if(k.hide.cyViewport){p.on("viewport",f.util.debounce(function(){j.hide()},h,{leading:true}))}return this})}if(typeof module!=="undefined"&&module.exports){module.exports=b}if(typeof define!=="undefined"&&define.amd){define("cytoscape-qtip",function(){return b})}if(c&&a){b(a,c)}})(jQuery,cytoscape);